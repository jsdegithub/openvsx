```mermaid
sequenceDiagram
    participant 用户
    participant 系统
    participant Google云存储服务
    participant 数据库搜索服务
    participant OAuth2用户服务
    participant 扩展服务
    participant 本地注册服务
    participant 管理统计任务请求处理器
    participant 注册API

    用户->>系统: 访问插件市场
    系统->>数据库搜索服务: 查询可用插件
    数据库搜索服务-->>系统: 返回插件列表
    系统-->>用户: 显示可用插件

    用户->>系统: 搜索特定插件
    系统->>数据库搜索服务: 搜索插件
    数据库搜索服务-->>系统: 返回搜索结果
    系统-->>用户: 显示搜索结果

    用户->>系统: 选择一个插件
    系统-->>用户: 显示插件详情

    用户->>系统: 下载插件
    系统->>Google云存储服务: 获取下载链接
    Google云存储服务-->>系统: 提供下载链接
    系统-->>用户: 提供下载链接

    用户->>系统: 安装插件
    系统-->>用户: 确认安装

    用户->>系统: 评价和评论插件
    系统->>数据库搜索服务: 提交评论
    数据库搜索服务-->>系统: 确认评论提交
    系统-->>用户: 确认评论提交

    用户->>系统: 使用OAuth登录(GitHub)
    系统->>OAuth2用户服务: 重定向到GitHub进行认证
    OAuth2用户服务->>GitHub: 认证
    GitHub-->>OAuth2用户服务: 带令牌重定向回系统
    OAuth2用户服务-->>系统: 确认登录
    系统-->>用户: 显示用户仪表板

    用户->>系统: 发布新插件
    系统->>注册API: 提供插件上传界面
    注册API->>本地注册服务: 上传插件包
    本地注册服务-->>注册API: 验证并存储插件
    注册API-->>系统: 确认插件发布
    系统-->>用户: 显示已发布插件详情

    用户->>系统: 确认插件发布
    系统->>管理统计任务请求处理器: 更新统计数据
    管理统计任务请求处理器-->>系统: 确认更新
    系统-->>用户: 显示更新后的统计数据
```
